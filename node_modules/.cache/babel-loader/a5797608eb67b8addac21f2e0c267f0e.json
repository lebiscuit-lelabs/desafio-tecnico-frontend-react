{"ast":null,"code":"import { call, select, put, all, takeLatest } from \"redux-saga/effects\";\nimport toast from \"react-hot-toast\";\nimport api from \"../../../services/baseUrl\";\nimport { addToFavoriteSuccess } from \"./actions\";\nimport ActionsFavorite from \"./const\";\n\nfunction* addToFavorite({\n  name\n}) {\n  const characterExists = yield select(state => state.favorite.find(character => character.name === name));\n\n  if (characterExists) {\n    toast.error(`${name} is already on the list of favorites`);\n  } else {\n    const response = yield call(api.get, `/show/characters/${name}`);\n    const data = { ...response.data\n    };\n    yield put(addToFavoriteSuccess(data));\n    toast.success(`${name} has been added to the favorites list`);\n  }\n}\n\nexport default all([takeLatest(ActionsFavorite.ADD_REQUEST, addToFavorite)]);","map":{"version":3,"sources":["/home/tiago.almeida/Documents/www/Github/desafio-tecnico-frontend-react/src/store/modules/favorite/sagas.js"],"names":["call","select","put","all","takeLatest","toast","api","addToFavoriteSuccess","ActionsFavorite","addToFavorite","name","characterExists","state","favorite","find","character","error","response","get","data","success","ADD_REQUEST"],"mappings":"AAAA,SAASA,IAAT,EAAeC,MAAf,EAAuBC,GAAvB,EAA4BC,GAA5B,EAAiCC,UAAjC,QAAmD,oBAAnD;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,OAAOC,GAAP,MAAgB,2BAAhB;AAEA,SAASC,oBAAT,QAAqC,WAArC;AACA,OAAOC,eAAP,MAA4B,SAA5B;;AAEA,UAAUC,aAAV,CAAwB;AAAEC,EAAAA;AAAF,CAAxB,EAAkC;AAChC,QAAMC,eAAe,GAAG,MAAMV,MAAM,CAAEW,KAAD,IACnCA,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAqBC,SAAD,IAAeA,SAAS,CAACL,IAAV,KAAmBA,IAAtD,CADkC,CAApC;;AAIA,MAAIC,eAAJ,EAAqB;AACnBN,IAAAA,KAAK,CAACW,KAAN,CAAa,GAAEN,IAAK,sCAApB;AACD,GAFD,MAEO;AACL,UAAMO,QAAQ,GAAG,MAAMjB,IAAI,CAACM,GAAG,CAACY,GAAL,EAAW,oBAAmBR,IAAK,EAAnC,CAA3B;AAEA,UAAMS,IAAI,GAAG,EACX,GAAGF,QAAQ,CAACE;AADD,KAAb;AAIA,UAAMjB,GAAG,CAACK,oBAAoB,CAACY,IAAD,CAArB,CAAT;AACAd,IAAAA,KAAK,CAACe,OAAN,CAAe,GAAEV,IAAK,uCAAtB;AACD;AACF;;AAED,eAAeP,GAAG,CAAC,CAACC,UAAU,CAACI,eAAe,CAACa,WAAjB,EAA8BZ,aAA9B,CAAX,CAAD,CAAlB","sourcesContent":["import { call, select, put, all, takeLatest } from \"redux-saga/effects\";\nimport toast from \"react-hot-toast\";\n\nimport api from \"../../../services/baseUrl\";\n\nimport { addToFavoriteSuccess } from \"./actions\";\nimport ActionsFavorite from \"./const\";\n\nfunction* addToFavorite({ name }) {\n  const characterExists = yield select((state) =>\n    state.favorite.find((character) => character.name === name)\n  );\n\n  if (characterExists) {\n    toast.error(`${name} is already on the list of favorites`);\n  } else {\n    const response = yield call(api.get, `/show/characters/${name}`);\n\n    const data = {\n      ...response.data,\n    };\n\n    yield put(addToFavoriteSuccess(data));\n    toast.success(`${name} has been added to the favorites list`);\n  }\n}\n\nexport default all([takeLatest(ActionsFavorite.ADD_REQUEST, addToFavorite)]);\n"]},"metadata":{},"sourceType":"module"}